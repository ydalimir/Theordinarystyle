{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{0:function(t,e,n){n(\"GcxT\"),t.exports=n(\"nOHt\")},\"1TCz\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return O}));var r=n(\"rePB\"),o=n(\"q1tI\"),c=n(\"FGyW\"),u=n(\"EjJx\"),a=n(\"nOHt\"),i=n(\"T00j\"),s=n(\"xKSj\"),b=n(\"NBZd\"),f=n(\"o/o4\"),l=(n(\"gTka\"),n(\"xMo/\"),n(\"jDDT\"),n(\"tyWD\"),n(\"K7k0\"),n(\"nKUr\"));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t){var e=t.Component,n=t.pageProps,r=Object(o.useState)(void 0),d=r[0],O=r[1],j=Object(o.useState)(!1),g=j[0],v=j[1],P=Object(o.useState)(0),w=P[0],y=P[1],h=Object(o.useState)(!1),m=h[0],S=h[1],T=Object(a.useRouter)();Object(o.useEffect)((function(){var t=Object(b.a)();O(t?{token:t,idUser:Object(u.a)(t).id}:null),v(!1)}),[g]),Object(o.useEffect)((function(){y(Object(f.b)()),S(!1)}),[m,d]);var x=function(t){Object(b.d)(t),O({token:t,idUser:Object(u.a)(t).id})},_=function(){d&&(Object(b.c)(),O(null),T.push(\"/\"))},k=Object(o.useMemo)((function(){return{auth:d,login:x,logout:_,setReloadUser:v}}),[d]),E=Object(o.useMemo)((function(){return{productsCart:w,addProductCart:function(t){return function(t){Object(b.a)()?(Object(f.a)(t),S(!0)):c.b.warning(\"Para comprar un juego tienes que iniciar sesi\\xf3n\")}(t)},getProductsCart:f.c,removeProductCart:function(t){return function(t){Object(f.f)(t),S(!0)}(t)},removeAllProductsCart:f.e}}),[w]);return void 0===d?null:Object(l.jsx)(i.a.Provider,{value:k,children:Object(l.jsxs)(s.a.Provider,{value:E,children:[Object(l.jsx)(e,p({},n)),Object(l.jsx)(c.a,{position:\"top-right\",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0})]})})}},GcxT:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/_app\",function(){return n(\"1TCz\")}])},K7k0:function(t,e,n){},gTka:function(t,e,n){},jDDT:function(t,e,n){},\"o/o4\":function(t,e,n){\"use strict\";n.d(e,\"c\",(function(){return b})),n.d(e,\"a\",(function(){return f})),n.d(e,\"b\",(function(){return l})),n.d(e,\"f\",(function(){return d})),n.d(e,\"d\",(function(){return p})),n.d(e,\"e\",(function(){return j}));var r=n(\"o0o1\"),o=n.n(r),c=n(\"HaE+\"),u=n(\"FGyW\"),a=n(\"LvDl\"),i=n(\"wyBh\"),s=n(\"sW4n\");function b(){var t=localStorage.getItem(i.b);return t?t.split(\",\"):null}function f(t){var e=b();e?Object(a.includes)(e,t)?u.b.warning(\"Este producto ya esta en el carrito\"):(e.push(t),localStorage.setItem(i.b,e),u.b.success(\"Producto a\\xf1adido correctamente\")):(localStorage.setItem(i.b,t),u.b.success(\"Producto a\\xf1adido al carrito\"))}function l(){var t=b();return t?Object(a.size)(t):0}function d(t){var e=b();Object(a.remove)(e,(function(e){return e===t})),Object(a.size)(e)>0?localStorage.setItem(i.b,e):localStorage.removeItem(i.b)}function p(t,e,n,r,o){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(o.a.mark((function t(e,n,r,c,u){var a,b,f,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,delete(a=c).user,delete a.createdAt,b=\"\".concat(i.a,\"/orders\"),f={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:e,products:n,idUser:r,addressShipping:a})},t.next=8,Object(s.a)(b,f,u);case 8:return l=t.sent,t.abrupt(\"return\",l);case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt(\"return\",null);case 16:case\"end\":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function j(){localStorage.removeItem(i.b)}},tyWD:function(t,e,n){},\"xMo/\":function(t,e,n){}},[[0,1,2,4,8,0,3]]]);","extractedComments":[]}