{"ast":null,"code":"import React, { useState, useEffect } from \"react\";\nimport { Icon } from \"semantic-ui-react\";\nimport { useRouter } from \"next/router\";\nimport BasicLayout from \"../layouts/BasicLayout\";\nimport { getMeApi } from \"../api/user\";\nimport useAuth from \"../hooks/useAuth\";\nimport ChangeNameForm from \"../components/Account/ChangeNameForm\";\nimport ChangeEmailForm from \"../components/Account/ChangeEmailForm\";\nimport ChangePasswordForm from \"../components/Account/ChangePasswordForm\";\nimport BasicModal from \"../components/Modal/BasicModal\";\nimport AddressForm from \"../components/Account/AddressForm\";\nimport ListAddress from \"../components/Account/ListAddress\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Account() {\n  const {\n    0: user,\n    1: setUser\n  } = useState(undefined);\n  const {\n    auth,\n    logout,\n    setReloadUser\n  } = useAuth();\n  const router = useRouter();\n  useEffect(() => {\n    (async () => {\n      const response = await getMeApi(logout);\n      setUser(response || null);\n    })();\n  }, [auth]);\n  if (user === undefined) return null;\n\n  if (!auth && !user) {\n    router.replace(\"/\");\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(BasicLayout, {\n    className: \"account\",\n    children: [/*#__PURE__*/_jsx(Configuration, {\n      user: user,\n      logout: logout,\n      setReloadUser: setReloadUser\n    }), /*#__PURE__*/_jsx(Addresses, {})]\n  });\n}\n\nfunction Configuration(props) {\n  const {\n    user,\n    logout,\n    setReloadUser\n  } = props;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"account__configuration\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"title\",\n      children: \"Configuraci\\xF3n\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"data\",\n      children: [/*#__PURE__*/_jsx(ChangeNameForm, {\n        user: user,\n        logout: logout,\n        setReloadUser: setReloadUser\n      }), /*#__PURE__*/_jsx(ChangeEmailForm, {\n        user: user,\n        logout: logout,\n        setReloadUser: setReloadUser\n      }), /*#__PURE__*/_jsx(ChangePasswordForm, {\n        user: user,\n        logout: logout\n      })]\n    })]\n  });\n}\n\nfunction Addresses() {\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false);\n  const {\n    0: titleModal,\n    1: setTitleModal\n  } = useState(\"\");\n  const {\n    0: formModal,\n    1: setFormModal\n  } = useState(null);\n  const {\n    0: reloadAddreses,\n    1: setReloadAddreses\n  } = useState(false);\n\n  const openModal = (title, address) => {\n    setTitleModal(title);\n    setFormModal( /*#__PURE__*/_jsx(AddressForm, {\n      setShowModal: setShowModal,\n      setReloadAddreses: setReloadAddreses,\n      newAddress: address ? false : true,\n      address: address || null\n    }));\n    setShowModal(true);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"account__addresses\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"title\",\n      children: [\"Direcciones\", /*#__PURE__*/_jsx(Icon, {\n        name: \"plus\",\n        link: true,\n        onClick: () => openModal(\"Nueva direcci√≥n\")\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"data\",\n      children: /*#__PURE__*/_jsx(ListAddress, {\n        reloadAddreses: reloadAddreses,\n        setReloadAddreses: setReloadAddreses,\n        openModal: openModal\n      })\n    }), /*#__PURE__*/_jsx(BasicModal, {\n      show: showModal,\n      setShow: setShowModal,\n      title: titleModal,\n      children: formModal\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}