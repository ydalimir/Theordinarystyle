{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/ydalimir/Escritorio/client/pages/games/[platform].js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Loader } from \"semantic-ui-react\";\nimport { useRouter } from \"next/router\";\nimport { size } from \"lodash\";\nimport BasicLayout from \"../../layouts/BasicLayout\";\nimport { getGamesPlatformApi, getTotalGamesPlatformApi } from \"../../api/game\";\nimport ListGames from \"../../components/ListGames\";\nimport Pagination from \"../../components/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar limitPerPage = 20;\nexport default function Platform() {\n  _s();\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useState = useState(null),\n      games = _useState[0],\n      setGames = _useState[1];\n\n  var _useState2 = useState(null),\n      totalGames = _useState2[0],\n      setTotalGames = _useState2[1];\n\n  var getStartItem = function getStartItem() {\n    var currentPages = parseInt(query.page);\n    if (!query.page || currentPages === 1) return 0;else return currentPages * limitPerPage - limitPerPage;\n  };\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!query.platform) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return getGamesPlatformApi(query.platform, limitPerPage, getStartItem());\n\n            case 3:\n              response = _context.sent;\n              setGames(response);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, [query]);\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getTotalGamesPlatformApi(query.platform);\n\n            case 2:\n              response = _context2.sent;\n              setTotalGames(response);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(BasicLayout, {\n    className: \"platform\",\n    children: [!games && /*#__PURE__*/_jsxDEV(Loader, {\n      active: true,\n      children: \"Cargando Productos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 18\n    }, this), games && size(games) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No hay Productos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), size(games) > 0 && /*#__PURE__*/_jsxDEV(ListGames, {\n      games: games\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 27\n    }, this), totalGames ? /*#__PURE__*/_jsxDEV(Pagination, {\n      totalGames: totalGames,\n      page: query.page ? parseInt(query.page) : 1,\n      limitPerPage: limitPerPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Platform, \"Ozm1xLuTJRy0rn8BRdsSCqX3/yg=\", false, function () {\n  return [useRouter];\n});\n\n_c = Platform;\n\nvar _c;\n\n$RefreshReg$(_c, \"Platform\");","map":{"version":3,"sources":["/home/ydalimir/Escritorio/client/pages/games/[platform].js"],"names":["React","useState","useEffect","Loader","useRouter","size","BasicLayout","getGamesPlatformApi","getTotalGamesPlatformApi","ListGames","Pagination","limitPerPage","Platform","query","games","setGames","totalGames","setTotalGames","getStartItem","currentPages","parseInt","page","platform","response"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,mBAAT,EAA8BC,wBAA9B,QAA8D,gBAA9D;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;;AAEA,IAAMC,YAAY,GAAG,EAArB;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AACjC,mBAAkBR,SAAS,EAA3B;AAAA,MAAQS,KAAR,cAAQA,KAAR;;AACA,kBAA0BZ,QAAQ,CAAC,IAAD,CAAlC;AAAA,MAAOa,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAoCd,QAAQ,CAAC,IAAD,CAA5C;AAAA,MAAOe,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAMC,YAAY,GAAGC,QAAQ,CAACP,KAAK,CAACQ,IAAP,CAA7B;AACA,QAAI,CAACR,KAAK,CAACQ,IAAP,IAAeF,YAAY,KAAK,CAApC,EAAuC,OAAO,CAAP,CAAvC,KACK,OAAOA,YAAY,GAAGR,YAAf,GAA8BA,YAArC;AACN,GAJD;;AAMAT,EAAAA,SAAS,CAAC,YAAM;AACd,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKW,KAAK,CAACS,QADX;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAE0Bf,mBAAmB,CACxCM,KAAK,CAACS,QADkC,EAExCX,YAFwC,EAGxCO,YAAY,EAH4B,CAF7C;;AAAA;AAESK,cAAAA,QAFT;AAOGR,cAAAA,QAAQ,CAACQ,QAAD,CAAR;;AAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAUD,GAXQ,EAWN,CAACV,KAAD,CAXM,CAAT;AAaAX,EAAAA,SAAS,CAAC,YAAM;AACd,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACwBM,wBAAwB,CAACK,KAAK,CAACS,QAAP,CADhD;;AAAA;AACOC,cAAAA,QADP;AAECN,cAAAA,aAAa,CAACM,QAAD,CAAb;;AAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAID,GALQ,EAKN,CAACV,KAAD,CALM,CAAT;AAOA,sBACE,QAAC,WAAD;AAAa,IAAA,SAAS,EAAC,UAAvB;AAAA,eACG,CAACC,KAAD,iBAAU,QAAC,MAAD;AAAQ,MAAA,MAAM,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADb,EAEGA,KAAK,IAAIT,IAAI,CAACS,KAAD,CAAJ,KAAgB,CAAzB,iBACC;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAHJ,EAOGT,IAAI,CAACS,KAAD,CAAJ,GAAc,CAAd,iBAAmB,QAAC,SAAD;AAAW,MAAA,KAAK,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,YAPtB,EASGE,UAAU,gBACT,QAAC,UAAD;AACE,MAAA,UAAU,EAAEA,UADd;AAEE,MAAA,IAAI,EAAEH,KAAK,CAACQ,IAAN,GAAaD,QAAQ,CAACP,KAAK,CAACQ,IAAP,CAArB,GAAoC,CAF5C;AAGE,MAAA,YAAY,EAAEV;AAHhB;AAAA;AAAA;AAAA;AAAA,YADS,GAMP,IAfN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD;;GAlDuBC,Q;UACJR,S;;;KADIQ,Q","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Loader } from \"semantic-ui-react\";\nimport { useRouter } from \"next/router\";\nimport { size } from \"lodash\";\nimport BasicLayout from \"../../layouts/BasicLayout\";\nimport { getGamesPlatformApi, getTotalGamesPlatformApi } from \"../../api/game\";\nimport ListGames from \"../../components/ListGames\";\nimport Pagination from \"../../components/Pagination\";\n\nconst limitPerPage = 20;\n\nexport default function Platform() {\n  const { query } = useRouter();\n  const [games, setGames] = useState(null);\n  const [totalGames, setTotalGames] = useState(null);\n\n  const getStartItem = () => {\n    const currentPages = parseInt(query.page);\n    if (!query.page || currentPages === 1) return 0;\n    else return currentPages * limitPerPage - limitPerPage;\n  };\n\n  useEffect(() => {\n    (async () => {\n      if (query.platform) {\n        const response = await getGamesPlatformApi(\n          query.platform,\n          limitPerPage,\n          getStartItem()\n        );\n        setGames(response);\n      }\n    })();\n  }, [query]);\n\n  useEffect(() => {\n    (async () => {\n      const response = await getTotalGamesPlatformApi(query.platform);\n      setTotalGames(response);\n    })();\n  }, [query]);\n\n  return (\n    <BasicLayout className=\"platform\">\n      {!games && <Loader active>Cargando Productos</Loader>}\n      {games && size(games) === 0 && (\n        <div>\n          <h3>No hay Productos</h3>\n        </div>\n      )}\n      {size(games) > 0 && <ListGames games={games} />}\n\n      {totalGames ? (\n        <Pagination\n          totalGames={totalGames}\n          page={query.page ? parseInt(query.page) : 1}\n          limitPerPage={limitPerPage}\n        />\n      ) : null}\n    </BasicLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}