{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/ydalimir/Escritorio/client/pages/account.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Icon } from \"semantic-ui-react\";\nimport { useRouter } from \"next/router\";\nimport BasicLayout from \"../layouts/BasicLayout\";\nimport { getMeApi } from \"../api/user\";\nimport useAuth from \"../hooks/useAuth\";\nimport ChangeNameForm from \"../components/Account/ChangeNameForm\";\nimport ChangeEmailForm from \"../components/Account/ChangeEmailForm\";\nimport ChangePasswordForm from \"../components/Account/ChangePasswordForm\";\nimport BasicModal from \"../components/Modal/BasicModal\";\nimport AddressForm from \"../components/Account/AddressForm\";\nimport ListAddress from \"../components/Account/ListAddress\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Account() {\n  _s();\n\n  var _useState = useState(undefined),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth,\n      logout = _useAuth.logout,\n      setReloadUser = _useAuth.setReloadUser;\n\n  var router = useRouter();\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getMeApi(logout);\n\n            case 2:\n              response = _context.sent;\n              setUser(response || null);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, [auth]);\n  if (user === undefined) return null;\n\n  if (!auth && !user) {\n    router.replace(\"/\");\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(BasicLayout, {\n    className: \"account\",\n    children: [/*#__PURE__*/_jsxDEV(Configuration, {\n      user: user,\n      logout: logout,\n      setReloadUser: setReloadUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Addresses, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Account, \"NL0Qwhty9JXcUFln6l5tBOtrTuE=\", false, function () {\n  return [useAuth, useRouter];\n});\n\n_c = Account;\n\nfunction Configuration(props) {\n  var user = props.user,\n      logout = props.logout,\n      setReloadUser = props.setReloadUser;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"account__configuration\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: \"Configuraci\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data\",\n      children: [/*#__PURE__*/_jsxDEV(ChangeNameForm, {\n        user: user,\n        logout: logout,\n        setReloadUser: setReloadUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChangeEmailForm, {\n        user: user,\n        logout: logout,\n        setReloadUser: setReloadUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChangePasswordForm, {\n        user: user,\n        logout: logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = Configuration;\n\nfunction Addresses() {\n  _s2();\n\n  var _this = this;\n\n  var _useState2 = useState(false),\n      showModal = _useState2[0],\n      setShowModal = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      titleModal = _useState3[0],\n      setTitleModal = _useState3[1];\n\n  var _useState4 = useState(null),\n      formModal = _useState4[0],\n      setFormModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      reloadAddreses = _useState5[0],\n      setReloadAddreses = _useState5[1];\n\n  var openModal = function openModal(title, address) {\n    setTitleModal(title);\n    setFormModal( /*#__PURE__*/_jsxDEV(AddressForm, {\n      setShowModal: setShowModal,\n      setReloadAddreses: setReloadAddreses,\n      newAddress: address ? false : true,\n      address: address || null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, _this));\n    setShowModal(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"account__addresses\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: [\"Direcciones\", /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"plus\",\n        link: true,\n        onClick: function onClick() {\n          return openModal(\"Nueva dirección\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data\",\n      children: /*#__PURE__*/_jsxDEV(ListAddress, {\n        reloadAddreses: reloadAddreses,\n        setReloadAddreses: setReloadAddreses,\n        openModal: openModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BasicModal, {\n      show: showModal,\n      setShow: setShowModal,\n      title: titleModal,\n      children: formModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Addresses, \"5U9YaryB2WtY+dLIgRDQX+fzD0U=\");\n\n_c3 = Addresses;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Account\");\n$RefreshReg$(_c2, \"Configuration\");\n$RefreshReg$(_c3, \"Addresses\");","map":{"version":3,"sources":["/home/ydalimir/Escritorio/client/pages/account.js"],"names":["React","useState","useEffect","Icon","useRouter","BasicLayout","getMeApi","useAuth","ChangeNameForm","ChangeEmailForm","ChangePasswordForm","BasicModal","AddressForm","ListAddress","Account","undefined","user","setUser","auth","logout","setReloadUser","router","response","replace","Configuration","props","Addresses","showModal","setShowModal","titleModal","setTitleModal","formModal","setFormModal","reloadAddreses","setReloadAddreses","openModal","title","address"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Icon } from \"semantic-ui-react\";\nimport { useRouter } from \"next/router\";\nimport BasicLayout from \"../layouts/BasicLayout\";\nimport { getMeApi } from \"../api/user\";\nimport useAuth from \"../hooks/useAuth\";\nimport ChangeNameForm from \"../components/Account/ChangeNameForm\";\nimport ChangeEmailForm from \"../components/Account/ChangeEmailForm\";\nimport ChangePasswordForm from \"../components/Account/ChangePasswordForm\";\nimport BasicModal from \"../components/Modal/BasicModal\";\nimport AddressForm from \"../components/Account/AddressForm\";\nimport ListAddress from \"../components/Account/ListAddress\";\n\nexport default function Account() {\n  const [user, setUser] = useState(undefined);\n  const { auth, logout, setReloadUser } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    (async () => {\n      const response = await getMeApi(logout);\n      setUser(response || null);\n    })();\n  }, [auth]);\n\n  if (user === undefined) return null;\n  if (!auth && !user) {\n    router.replace(\"/\");\n    return null;\n  }\n\n  return (\n    <BasicLayout className=\"account\">\n      <Configuration\n        user={user}\n        logout={logout}\n        setReloadUser={setReloadUser}\n      />\n      <Addresses />\n    </BasicLayout>\n  );\n}\n\nfunction Configuration(props) {\n  const { user, logout, setReloadUser } = props;\n\n  return (\n    <div className=\"account__configuration\">\n      <div className=\"title\">Configuración</div>\n      <div className=\"data\">\n        <ChangeNameForm\n          user={user}\n          logout={logout}\n          setReloadUser={setReloadUser}\n        />\n        <ChangeEmailForm\n          user={user}\n          logout={logout}\n          setReloadUser={setReloadUser}\n        />\n        <ChangePasswordForm user={user} logout={logout} />\n      </div>\n    </div>\n  );\n}\n\nfunction Addresses() {\n  const [showModal, setShowModal] = useState(false);\n  const [titleModal, setTitleModal] = useState(\"\");\n  const [formModal, setFormModal] = useState(null);\n  const [reloadAddreses, setReloadAddreses] = useState(false);\n\n  const openModal = (title, address) => {\n    setTitleModal(title);\n    setFormModal(\n      <AddressForm\n        setShowModal={setShowModal}\n        setReloadAddreses={setReloadAddreses}\n        newAddress={address ? false : true}\n        address={address || null}\n      />\n    );\n    setShowModal(true);\n  };\n\n  return (\n    <div className=\"account__addresses\">\n      <div className=\"title\">\n        Direcciones\n        <Icon name=\"plus\" link onClick={() => openModal(\"Nueva dirección\")} />\n      </div>\n      <div className=\"data\">\n        <ListAddress\n          reloadAddreses={reloadAddreses}\n          setReloadAddreses={setReloadAddreses}\n          openModal={openModal}\n        />\n      </div>\n\n      <BasicModal show={showModal} setShow={setShowModal} title={titleModal}>\n        {formModal}\n      </BasicModal>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}