{"ast":null,"code":"import React, { useState, useEffect } from \"react\";\nimport { Grid, Button } from \"semantic-ui-react\";\nimport { map, size } from \"lodash\";\nimport { getAddressesApi, deleteAddressApi } from \"../../../api/address\";\nimport useAuth from \"../../../hooks/useAuth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ListAddress(props) {\n  const {\n    reloadAddreses,\n    setReloadAddreses,\n    openModal\n  } = props;\n  const {\n    0: addresses,\n    1: setAddresses\n  } = useState(null);\n  const {\n    auth,\n    logout\n  } = useAuth();\n  useEffect(() => {\n    (async () => {\n      const response = await getAddressesApi(auth.idUser, logout);\n      setAddresses(response || []);\n      setReloadAddreses(false);\n    })();\n  }, [reloadAddreses]);\n  if (!addresses) return null;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"list-address\",\n    children: size(addresses) === 0 ? /*#__PURE__*/_jsx(\"h3\", {\n      children: \"No hay ninguna direcci\\xF3n creada\"\n    }) : /*#__PURE__*/_jsx(Grid, {\n      children: map(addresses, address => /*#__PURE__*/_jsx(Grid.Column, {\n        mobile: 16,\n        tablet: 8,\n        computer: 4,\n        children: /*#__PURE__*/_jsx(Address, {\n          address: address,\n          logout: logout,\n          setReloadAddreses: setReloadAddreses,\n          openModal: openModal\n        })\n      }, address.id))\n    })\n  });\n}\n\nfunction Address(props) {\n  const {\n    address,\n    logout,\n    setReloadAddreses,\n    openModal\n  } = props;\n  const {\n    0: loadingDelete,\n    1: setLoadingDelete\n  } = useState(false);\n\n  const deleteAddress = async () => {\n    setLoadingDelete(true);\n    const response = await deleteAddressApi(address._id, logout);\n    if (response) setReloadAddreses(true);\n    setLoadingDelete(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"address\",\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      children: address.title\n    }), /*#__PURE__*/_jsx(\"p\", {\n      children: address.name\n    }), /*#__PURE__*/_jsx(\"p\", {\n      children: address.address\n    }), /*#__PURE__*/_jsxs(\"p\", {\n      children: [address.state, \", \", address.city, \" \", address.postalCode]\n    }), /*#__PURE__*/_jsx(\"p\", {\n      children: address.phone\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsx(Button, {\n        primary: true,\n        onClick: () => openModal(`Editar: ${address.title}`, address),\n        children: \"Editar\"\n      }), /*#__PURE__*/_jsx(Button, {\n        onClick: deleteAddress,\n        loading: loadingDelete,\n        children: \"Eliminar\"\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}